<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>捷運跑馬燈模擬</title>
<style>
    body {
        background-color: black;
        color: yellow;
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }
    .marquee-container {
        position: relative;
        width: 100%;
        height: 90px;
        overflow: hidden;
        display: flex;
        align-items: center;
        border-top: 2px solid #444;
        border-bottom: 2px solid #444;
    }
    .marquee-text {
        display: inline-block;
        white-space: nowrap;
        font-size: 24px;
        position: absolute;
        left: 100%;
    }
    .train-icon {
        position: absolute;
        left: 10px;
        font-size: 28px;
        top: 15px;
    }
</style>
</head>
<body>

<div class="marquee-container">
    <div class="train-icon">🚇</div>
    <div class="marquee-text" id="marquee">🚇 歡迎搭乘捷運：淡水車站</div>
</div>

<script>
const stations = [
    "淡水車站","紅樹林車站","竹圍車站","關渡車站","復興崗車站",
    "北投車站","奇岩車站","唭哩岸車站","石牌車站","明德車站",
    "芝山車站","士林車站","劍潭車站","圓山車站","民權西路車站",
    "雙連車站","中山車站","台北車站","台大醫院車站","中正紀念堂車站",
    "東門車站","大安森林公園車站","大安車站","信義安和車站","象山車站"
];

let idx = 0;
const marquee = document.getElementById("marquee");
let direction = 1; // 1 = 淡水→象山, -1 = 象山→淡水

function updateMarqueeText() {
    marquee.innerText = `🚇 歡迎搭乘捷運：${stations[idx]}`;
    let start = window.innerWidth;
    let end = -marquee.offsetWidth;
    let duration = 10000; // 文字滑動 10 秒

    marquee.style.left = start + "px";
    let startTime = null;

    function animate(time) {
        if (!startTime) startTime = time;
        let progress = (time - startTime) / duration;
        if (progress > 1) progress = 1;
        marquee.style.left = start + (end - start) * progress + "px";
        if (progress < 1) {
            requestAnimationFrame(animate);
        }
    }
    requestAnimationFrame(animate);
}

// 每 5 秒換下一站
setInterval(() => {
    if (direction === 1) {
        idx++;
        if (idx >= stations.length) {
            idx = stations.length - 2;
            direction = -1;
        }
    } else {
        idx--;
        if (idx < 0) {
            idx = 1;
            direction = 1;
        }
    }
    updateMarqueeText();
}, 5000);

// 初始顯示
updateMarqueeText();
</script>

</body>
</html>


