<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ·é‹è·‘é¦¬ç‡ˆæ¨¡æ“¬</title>
  <style>
    body {
      background: black;
      color: yellow;
      font-family: "Microsoft JhengHei", sans-serif;
      text-align: center;
    }
    .marquee-container {
      position: relative;
      overflow: hidden;
      white-space: nowrap;
      border: 3px solid yellow;
      width: 100%;
      height: 60px;
      margin-top: 20px;
      background: black;
    }
    .marquee-text {
      display: inline-block;
      font-size: 28px; /* æ‰‹æ©Ÿå¤§å­—é«” */
      line-height: 60px;
      padding-left: 100%;
      animation: scroll 8s linear infinite;
    }
    @keyframes scroll {
      from { transform: translateX(100%); }
      to { transform: translateX(-100%); }
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 20px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <h1 style="color:white">ğŸš‡ æ·é‹åˆ—è»Šæ¨¡æ“¬</h1>
  <div class="marquee-container">
    <span id="msg" class="marquee-text">æ­¡è¿æ­ä¹˜æ·é‹ï¼Œä¸‹ä¸€ç«™ æ·¡æ°´ / Next Station: Tamsui</span>
  </div>
  <button onclick="startTrain()">é–‹å§‹æ¨¡æ“¬</button>

  <script>
    const stations = [
      "æ·¡æ°´ / Tamsui", "ç´…æ¨¹æ— / Hongshulin", "ç«¹åœ / Zhuwei", "é—œæ¸¡ / Guandu",
      "å¿ ç¾© / Zhongyi", "å¾©èˆˆå´— / Fuxinggang", "åŒ—æŠ• / Beitou", "å¥‡å²© / Qiyan",
      "å”­å“©å²¸ / Qilian", "çŸ³ç‰Œ / Shipai", "æ˜å¾· / Mingde", "èŠå±± / Zhishan",
      "å£«æ— / Shilin", "åŠæ½­ / Jiantan", "åœ“å±± / Yuanshan", "æ°‘æ¬Šè¥¿è·¯ / Minquan W. Rd.",
      "é›™é€£ / Shuanglian", "ä¸­å±± / Zhongshan", "å°åŒ—è»Šç«™ / Taipei Main Station",
      "å°å¤§é†«é™¢ / NTU Hospital", "ä¸­æ­£ç´€å¿µå ‚ / Chiang Kai-Shek Memorial Hall",
      "æ±é–€ / Dongmen", "å¤§å®‰æ£®æ—å…¬åœ’ / Daan Park", "å¤§å®‰ / Daan",
      "ä¿¡ç¾©å®‰å’Œ / Xinyi Anhe", "è±¡å±± / Xiangshan"
    ];

    let index = 0;
    let direction = 1; // 1 è¡¨ç¤ºå¾€è±¡å±±ï¼Œ-1 è¡¨ç¤ºå¾€æ·¡æ°´
    let interval;

    function announce(text) {
      // åˆ‡æ›å­—å¹•
      document.getElementById("msg").textContent = "ğŸš‡ æ­¡è¿æ­ä¹˜æ·é‹ï¼Œä¸‹ä¸€ç«™ " + text;

      // èªéŸ³æ’­å ± (ä¸­è‹±æ–‡)
      const speech = new SpeechSynthesisUtterance("ä¸‹ä¸€ç«™ " + text);
      speech.lang = "zh-TW";
      speechSynthesis.speak(speech);

      const speechEn = new SpeechSynthesisUtterance("Next Station: " + text.split("/")[1]);
      speechEn.lang = "en-US";
      speechSynthesis.speak(speechEn);
    }

    function startTrain() {
      clearInterval(interval);
      index = 0;
      direction = 1;
      announce(stations[index]);
      interval = setInterval(() => {
        index += direction;

        // åˆ°è±¡å±±æˆ–æ·¡æ°´æ™‚æ›æ–¹å‘
        if (index === stations.length - 1) {
          direction = -1;
        } else if (index === 0) {
          direction = 1;
        }

        announce(stations[index]);
      }, 10000); // æ¯ 10 ç§’æ›ä¸‹ä¸€ç«™
    }
  </script>
</body>
</html>
